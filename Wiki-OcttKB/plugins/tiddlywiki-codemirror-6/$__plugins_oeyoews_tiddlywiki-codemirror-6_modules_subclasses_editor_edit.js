!function(){"use strict";exports.baseClass="edit",exports.constructor=function(t,e){this.initialise(t,e)},exports.prototype={},exports.prototype.execute=function(){this.editType=this.getAttribute("type"),Object.getPrototypeOf(Object.getPrototypeOf(this)).execute.call(this)},exports.prototype.getEditorType=function(){"text"===this.editField&&(e=this.wiki.getTiddler(this.editTitle))&&(t=e.fields.type);var t,e=this.wiki.getTiddlerText("$:/config/EditorTypeMappings/"+(t=t||"text/vnd.tiddlywiki"));return e=e?e:(t=$tw.config.contentTypeInfo[t])&&"base64"===t.encoding?"binary":"text"},exports.prototype.refresh=function(t){if(this.computeAttributes().type||this.getEditorType()!==this.editorType)return this.refreshSelf(),!0;Object.getPrototypeOf(Object.getPrototypeOf(this)).refresh.call(this,t)}}();