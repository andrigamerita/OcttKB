!function(){"use strict";exports.excise=function(e,t){var a=this.wiki.getTiddler(this.editTitle),i=this.editTitle;if(a&&a.fields["draft.of"]&&(i=a.fields["draft.of"]),t instanceof Array)for(var r=0;r<t.length;r++){var l=t[r],n=e.paramObject.title&&""!==e.paramObject.title?this.wiki.generateNewTitle(e.paramObject.title):this.wiki.generateNewTitle("New Excision");switch(this.wiki.addTiddler(new $tw.Tiddler(this.wiki.getCreationFields(),this.wiki.getModificationFields(),{title:n,text:l.selection,tags:"yes"===e.paramObject.tagnew?[i]:[]})),l.replacement=n,e.paramObject.type||"transclude"){case"transclude":l.replacement="{{"+l.replacement+"}}";break;case"link":l.replacement="[["+l.replacement+"]]";break;case"macro":l.replacement="<<"+(e.paramObject.macro||"translink")+' """'+l.replacement+'""">>'}l.cutStart=t[r].selStart,l.cutEnd=t[r].selEnd,l.newSelStart=t[r].selStart,l.newSelEnd=t[r].selStart+t[r].replacement.length}else{switch(n=e.paramObject.title||this.wiki.generateNewTitle("New Excision"),this.wiki.addTiddler(new $tw.Tiddler(this.wiki.getCreationFields(),this.wiki.getModificationFields(),{title:n,text:t.selection,tags:"yes"===e.paramObject.tagnew?[i]:[]})),t.replacement=n,e.paramObject.type||"transclude"){case"transclude":t.replacement="{{"+t.replacement+"}}";break;case"link":t.replacement="[["+t.replacement+"]]";break;case"macro":t.replacement="<<"+(e.paramObject.macro||"translink")+' """'+t.replacement+'""">>'}t.cutStart=t.selStart,t.cutEnd=t.selEnd,t.newSelStart=t.selStart,t.newSelEnd=t.selStart+t.replacement.length}}}();